{% extends './templates/base.html.twig' %}
{% block content %}
<script>
  var menu = {{ menu| json_encode | raw }};
</script>
<div class="container">
  <h1 class="page-header text-center text-uppercase">Cart</h1>
  <p class="lead">
    <small class="text-muted">
      <script>
        if (cart.length == 1) {
          document.write(cart.length + " item");
        } else document.write(cart.length + " items");
      </script>
    </small>
  </p>
  <div id="cart"></div>
</div>
<script>
  for (x = 0; x < cart.length; ++x) {
    var item = cart[x].toString().split(":");
    for (y = 0; y < menu.length; ++y) {
      if (item[0] == menu[y].id) {
        var itemprice = menu[y].sprice;

        switch (item[1]) {
          case "S":
            var itemsize = "small";
            itemprice = menu[y].sprice;
            break;

          case "M":
            var itemsize = "medium";
            itemprice = menu[y].mprice;
            break;

          case "L":
            var itemsize = "large";
            itemprice = menu[y].lprice;
            break;
        }

        document.getElementById("cart").innerHTML += `
          <div class='card mt-1 mb-1'>
            <div class='row no-gutters'>
              <div class='col-3 col-md-2 col-lg-1'>
                <img src='./assets/images/${menu[y].name}.jpg' class='card-img h-100 of-cover'>
              </div>
              <div class='col d-flex align-items-center'>
                <div class='card-body'>
                  <h5 class='card-title text-uppercase'>${itemsize} ${
          menu[y].name
          }</h5>
                  <h6 class='card-subtitle text-muted'>$${itemprice}</h6>
                </div>
              </div>
              <div class='col-1 d-flex align-items-center'>
                <button type='button' class='close' aria-label='Close' onclick="clearItem('${
          cart[x]
          }')">
                  <span aria-hidden='true'>&times;</span>
                </button>
              </div>
            </div>
          </div>
          `;
      }
    }
  }
</script>
{% endblock %}